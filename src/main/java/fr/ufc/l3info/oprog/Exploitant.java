package fr.ufc.l3info.oprog;

import java.util.HashSet;
import java.util.Set;

public class Exploitant {
    private Set<IVelo> velo;

    public Exploitant() {
        velo = new HashSet<>();
    }

    public void acquerirVelo(IVelo v) {
        if (v == null) return;
        this.velo.add(v);
    }

    public void entretenirVelos() {
        for (IVelo v : this.velo) {
            if (v.estAbime()) v.reparer();
            if (v.prochaineRevision() <= 0) v.reviser();
        }
    }

    public void ravitailler(Ville v) {
        if (v == null) return;
        ClosestStationIterator it = (ClosestStationIterator) v.iterator();
        while (it.hasNext()) {
            Station s = it.next();
            this.entretenirVelos();
            s.equilibrer(velo);
        }
    }

}